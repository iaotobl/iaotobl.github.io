function my$(id){return document.getElementById(id)}var box=my$("box");var inner=box.children[0];var ulObj=inner.children[0];var list=ulObj.children;var olObj=inner.children[1];var imgWidth=inner.offsetWidth;var right=my$("right");var pic=0;for(var i=0;i<list.length;i++){var liObj=document.createElement("li");liObj.innerText=(i+1);liObj.setAttribute("index",i);liObj.onmouseover=function(){for(var j=0;j<olObj.children.length;j++){olObj.children[j].removeAttribute("class")}this.className="current";pic=this.getAttribute("index");animate(ulObj,-pic*imgWidth)}}ulObj.appendChild(ulObj.children[0].cloneNode(true));var timeId=setInterval(onmouseclickHandle,4000);function onmouseclickHandle(){if(pic==list.length-1){pic=0;ulObj.style.left=0+"px"}pic++;animate(ulObj,-pic*imgWidth)}function animate(element,target){clearInterval(element.timeId);element.timeId=setInterval(function(){var current=element.offsetLeft;var step=10;step=current<target?step:-step;current+=step;if(Math.abs(current-target)>Math.abs(step)){element.style.left=current+"px"}else{clearInterval(element.timeId);element.style.left=target+"px"}},10)};